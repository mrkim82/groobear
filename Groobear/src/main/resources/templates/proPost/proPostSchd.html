<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/proPostTiles}">
	  
<th:block layout:fragment="content">
<!-- 캘린더 스타일 -->
<style>
#calendar {
    max-width: 1100px;
    margin: 0 auto;
    margin: 40px 10px;
    padding: 0;
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    font-size: 14px;
}
p {
	margin: 40px 10px;
}
</style>
<!-- 캘린더 스타일 종료 -->


	<p>캘린더</p>
	<div id='calendar'></div>
	
	
<!-- 업무, 일정 데이터 가져오기 -->
<script type="text/javascript" th:inline="javascript">
	/*<![CDATA[*/
		
		let schAllDatas = /*[[${readWorkSchView}]]*/;
		
	/*]]>*/
</script>

<!-- 캘린더 생성 -->
<script>
// document.addEventListener('DOMContentLoaded', async function() {
  // await fetch('/readWorkSchView')
  
  var calendarEl = document.getElementById('calendar');
  let allEvents = schAllDatas;
  console.log('데이터', allEvents);
  
  var calendar = new FullCalendar.Calendar(calendarEl, {
    headerToolbar: {
      left: 'prev,next today',
      center: 'title',
      right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
    },
    eventClick: function(info) {
      console.log('이벤트: ' + info.event.title);
      //console.log('Coordinates: ' + info.jsEvent.pageX + ',' + info.jsEvent.pageY);
      //console.log('View: ' + info.view.type);

      // change the border color just for fun
      //info.el.style.borderColor = 'red';
    },
    initialDate: new Date(), // 오늘날짜 넣기
    navLinks: true, // can click day/week names to navigate views.날짜를 선택하면 Day 캘린더나 Week 캘린더로 링크
    businessHours: false, // display business hours
    editable: false,//수정 가능?
    selectable: false,// 달력 일자 드래그 설정가능
    //dayMaxEvents: false, // 이벤트가 오버되면 높이 제한 (+ 몇 개식으로 표현)
    //locale: 'ko',
    events: allEvents
    
    
    
  });
  
  calendar.render();
  // });

  /* 데이터 양식 
  {
  groupId: 'availableForMeeting',
    title: 'Meeting',
    start: '2023-01-13T11:00:00',
    constraint: 'availableForMeeting', // defined below
    color: '#257e4a',
     end: '2023-01-20',
   display: 'background',
   overlap: false,
  } */
</script>
</th:block>
</html>