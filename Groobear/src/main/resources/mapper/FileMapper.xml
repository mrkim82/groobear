<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.groo.bear.files.mapper.FileMapper">
  	<sql id="fileColumns">
  		FILE_NO
		, ORIGIN_FILE_NAME
		, CHANGE_FILE_NAME
		, FILE_SIZE
		, FILE_DATE
		, MAIL_NO
		, BOARD_NO
		, PRO_FILE_NO
  	</sql>
  	
  	<insert id="saveAll" parameterType="list">
  		INSERT INTO files (
  			<include refid="fileColumns"/>
  		) VALUES
  		<foreach item="file" collection="list" separator=",">
  		(
  			#{file.fileNo}
  		  , #{originFileName}
  		  , #{changeFileName}
  		  , #{file.fileSize}
  		  , sysdate
  		  , #{file.mailNo}
  		  , #{file.boardNo}
  		  , #{file.proFileNo}
  		)
  		</foreach>
  	</insert>
  	
  	<insert id="insert">
  	INSERT INTO FILES (
  						  UUID
  						, UPLOAD_PATH
  						, FILE_NAME
  						, FILE_TYPE
  						, FILE_DATE
  						, BOARD_NO)
				VALUES (
						  #{uuid}
						, #{uploadPath}
						, #{fileName}
						, #{fileType}
						, #{fileDate}
						, #{boardNo})
  	</insert>
  	
  	<delete id="delete">
  	DELETE FROM FILES WHERE UUID = #{uuid}
  	</delete>
  	
  	<select id="findByBno" resultType="FilesVO">
  	SELECT * FROM FILES WHERE BOARD_NO = #{boardNo}
  	</select>
  </mapper>